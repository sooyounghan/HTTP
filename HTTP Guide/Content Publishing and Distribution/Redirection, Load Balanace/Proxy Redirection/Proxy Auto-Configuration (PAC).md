-----
### 프록시 자동 설정 (Proxy Auto-Configuration, PAC)
-----
1. 특정 프록시에 접촉하기 위한 브라우저 명시적인 설정은 네트워크 아키텍쳐의 변화를 제한하는데, 이유는 브라우저에 개입하여 설정을 변경하는 주체가 사용자이기 때문임
2. 올바른 프록시 서버에 접촉하기 위해 브라우저가 동적으로 자신을 설정할 수 있게 하는 자동 설정 방법은 이 문제를 해결
   - 이 방법은 실제로 존재하며, 프록시 자동 설정(Proxy Auto-Configuration, PAC) 프로토콜이라고 불림

3. PAC는 넷스케이프 사에 의해 정의되었으며, 마이크로소프트 인터넷 익스플로러 등 모든 브라우저가 지원
4. 브라우저들이 URL 별로 접촉해야 할 프록시를 지정한 PAC 파일이라 불리는 특별한 파일을 찾도록 하는 것
   - 브라우저는 반드시 PAC 파일을 얻기 위해 지정된 서버에 접촉하도록 설정되어야 함
   - 그런 뒤에 브라우저는 재시작할 때마다 PAC 파일을 가져옴

5. PAC 파일은 다음의 함수를 반드시 정의헤야 하는 자바스크립트 파일
```
function FindProxyForURL(url, host)
```
   - 브라우저는 요청된 URL마다 다음과 같이 이 함수를 호출
```
return_value = FindProxyForURL(url_of_request, host_in_url);
```
   - 반환된 값은 브라우저가 어디서 이 URL을 요청해야 하는지 지정한 문자열
   - 반환된 값은 접촉할 프록시들의 목록(예) ```PROXY proxy1.domain.com; PROXY proxy2.domain.com```)이거나 아니면 브라우저가 어떤 프록시든 우회해서 원 서버로 바로 가야 함을 의미하는 문자열 DIRECT일 수 있음

6. 이 요청을 위한 일련의 동작과 브라우저의 PAC 파일 요청에 대한 응답
<div align="center">
<img src="https://github.com/user-attachments/assets/030ac01f-9a12-48c4-a07d-a3382996998b">
</div>

  - 이 예에서는 서버는 PAC 파일을 자바스크립트 프로그램과 함께 반환
  - 이 자바스크립트 프로그램은 브라우저에게 요청한 URL이 ```netscape.com``` 도메인 안에 있다면, 원 서버에 바로 접근하고, 아니면 ```proxy1.joes-cache.com```으로 가라고 말해주는 FindProxyForURL 이라는 함수를 갖고 있음
  - 브라우저는 요청하는 매 URL마다 이 함수를 호출하고 함수가 반환한 값이 알려주는 곳으로 접속

7. PAC 프로토콜은 강력함
   - 자바스크립트 프로그램은 브라우저에게 DNS 주소나 서브넷, 심지어 요일이나 시각과 같은 호스트 명과 관련된 여러 매개변수에 근거해 프록시를 선택하도록 요구할 수 있음
   - 프록시 위치가 변경된 경우, 이를 반영하기 위해 PAC 파일이 서버에서 업데이트되므로 PAC는 브라우저가 자동으로 네트워크 아키텍쳐 안에서의 변경에 맞는 올바른 프록시에 접촉할 수 있도록 해줄 수 있음
  
8. 오늘날 PAC는 미리 설정된 브라우저처럼 몇몇 주요 ISP들에 의해 사용되고 있음
