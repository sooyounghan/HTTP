-----
### HTTP/1.1 Host 헤더
-----
1. Host 헤더는 RFC 2068에 정의되어 있는 HTTP/1.1 요청 헤더
   - 가상 서버는 매우 흔하므로 대부분의 HTTP 클라이언트가 HTTP/1.1와 호환되지 않더라도, Host 헤더는 구현

2. 문법과 사용 방법
   - Host 헤더에는 원본 URL에 있는 요청 리소스에 대한 인터넷 호스트와 포트번호를 기술
<div align="center">
<img src="https://github.com/user-attachments/assets/7a258093-3c29-4368-aae9-057c7c7a8ae0">
</div>

   - Host 헤더에 포트가 기술되어 있지 않으면, 해당 스킴의 기본 포트를 사용
   - URL에 IP 주소가 있으면, Host 헤더는 같은 주소를 포함해야 함
   - URL에 호스트 명이 기술되어 있으면, Host 헤더는 같은 호스트 명을 포함해야 함
   - URL에 호스트 명이 기술되어 있으면, Host 헤더는 URL의 호스트 명이 가리키는 IP 주소를 포함해서는 안 됨
     + 그 이유는 여러 개 가상 사이트를 한 개의 IP 주소에 연결한 가상 호스트 서버에서 문제가 될 수 있기 때문임
   - 클라이언트가 특정 프록시 서버를 사용한다면, Host 헤더에 프록시 서버가 아닌 원 서버의 호스트 명과 포트를 기술해야 함
     + 과거에는 웹 클라이언트가 프록시 설정이 활성화 되어있을 때 전송하는 Host 헤더에 프록시 호스트 명을 넣는 버그가 있었음
     + 이 문제는 프록시와 원 서버를 오동작시키는 원인

   - 웹 클라이언트는 모든 요청 메세지에 Host 헤더를 기술해야 함
   - 웹 프록시는 요청을 전달하기 전에 요청 메세지에 Host 헤더를 추가해야 함
   - HTTP/1.1 웹 서버는 Host 헤더 필드가 없는 HTTP/1.1 요청 메세지를 받으면 400 상태 코드를 응답해야 함

3. 예시) Host 헤더를 포함해서 ```www.joes-hardware.com``` 홈페이지를 요청하는 HTTP 메세지 예
<div align="center">
<img src="https://github.com/user-attachments/assets/be9e7b02-4bef-485c-8b03-69a520d51e87">
</div>

   - Host 헤더의 누락 : 아직 사용되고 있는 일부 낡은 브라우저들은 Host 헤더를 보내지 않음 (현재는 모든 주요 브라우저가 Host 헤더 전송)
     + 가상 호스팅 서버가 어떤 웹 사이트를 제공할지 결정하려고 Host 헤더를 사용하려는 상황에서 Host 헤더가 존재하지 않는다면, 서버는 사용자를 기본 웹 페이지로 보내거나 브라우저를 업그레이드하라고 제안하는 에러 페이지 반환 가능

   - Host 헤더 해석하기 : 가상 호스팅을 지원하지 않는 원 서버는 요청 받는 호스트에 따라 리소스가 달라질 수 있으므로, Host 헤더 값은 무시할 것
     + 하지만 호스트를 기준으로 리소스를 구분하는 모든 웹 서버는 HTTP/1.1을 통해 오는 리소스를 결정하려면 다음과 같은 규칙을 사용해야 함
     + HTTP 요청 메세지에 전체 URL이 기술(예) 스킴과 호스트 컴포넌트 기술) : Host 헤더에 있는 값은 무시하고 URL 사용
     + HTTP 요청 메세지에 있는 URL에 호스트 명이 기술되어 있지 않고 요청에 Host 헤더 존재 : 호스트 명과 포트를 Host 헤더에서 가져옴
     + 위 두 개에서 호스트를 결정할 수 없으면 클라이언트에 400 Bad Request 응답 반환

   - Host 헤더와 프록시
     + 어떤 브라우저 버전은 부정확한 Host 헤더를 보내는데, 특히 프록시를 사용하게 설정했을 때 발생
     + 예를 들어, 프록시를 사용하도록 구성할 때 버전이 오래된 애플리케이션이나 포인트캐스트 클라이언트는 실수로 원 서버의 이름이 아닌 프록시 이름을 Host 헤더에 담아 전송
