-----
### 프락시 요청 특징
-----
1. 프락시 URI는 서버 URI과 다름
   - 웹 서버와 웹 프록시 메세지 문법은 서로 같지만, 한 가지 예외 존재 : 클라이언트가 프록시 대신 서버로 요청을 보내면 요청의 URI가 달라짐
   - 클라이언트가 웹 서버로 요청을 보낼 때, 요청줄은 다음과 같이 스킴, 호스트, 포트번호가 없는 부분 URI를 가짐
<div align="center">
<img src="https://github.com/user-attachments/assets/4b8d10da-0b22-479a-9e91-2390a6e58579">
</div>

2. 그러나 클라이언트로 프록시로 요청을 보낼 때, 요청줄은 다음의 예와 같이 완전한 URI를 가짐
<div align="center">
<img src="https://github.com/user-attachments/assets/093da9e8-041f-43cf-af4e-8006b35b4a87">
</div>

3. 다른 요청 형식을 갖는 이유
   - 원래의 HTTP 설계에서, 클라이언트는 단일 서버와 직접 대화했음
   - 가상 호스팅은 아직 존재하지 않았고, 프록시에 대한 대비도 없었음
   - 단일 서버는 자신의 호스트 명과 포트번호를 알고 있으므로, 클라이언트는 불필요한 정보 발송을 피하기 위해 스킴과 호스트(그리고 포트번호)가 없는 부분 URI만 보냈음
   - 프록시가 부상하면서, 부분 URI는 문제가 되었음
     + 프록시는 목적지 서버와 커넥션을 맺어야 하므로, 그 서버의 이름을 알 필요가 있음
     + 그리고 프록시 기반 게이트웨이는 FTP 리소스나 혹은 그 외의 스킴과 연결하기 위해 URI 스킴을 알 필요가 있었음
     + HTTP/1.0은 프록시 요청의 경우 완전한 URI를 요구하는 것으로 이 문제를 해결했지만, 서버 요청 부분 URI은 여전히 문제 (모두 완전한 URI로 전환하기에 너무 많은 서버가 배치)
     + 따라서 프락시와 서버 요청 모두에 대해 HTTP/1.1은 현재 서버들이 완전한 URI를 다룰 것을 요구하지만, 현실에는 배치 되어 있는 서버들 중 다수가 여전히 부분 URI만을 받아들임

   - 따라서, 서버로는 부분 URI를, 프록시로는 완전한 URI를 보낼 필요가 있으며, 명시적으로 설정된 클라이언트 프록시 설정의 경우, 클라이언트는 어떻게 요청을 보내야 하는지 알고 있음
<div align="center">
<img src="https://github.com/user-attachments/assets/3953e66a-7832-4c51-89ad-0cdfcdd7036e">
</div>

   - 클라이언트가 프록시를 사용하지 않도록 설정되었다면, 부분 URI를 보냄 (6-15a)
   - 클라이언트가 프록시를 사용하도록 설정되었다면, 완전한 URI를 보냄 (6-15b)

4. 가상 호스팅에서 일어나는 같은 문제
   - 프록시의 스킴/호스트/포트번호 누락 문제는 가상으로 호스팅되는 웹 서버가 직면한 것과 같은 문제
   - 가상으로 호스팅되는 웹 서버는 여러 웹 사이트가 같은 물리적 웹 서버를 공유
   - 요청 하나가 부분 URI /index.html로 오면, 가상으로 호스팅 되는 웹 서버는 그 요청이 접근하고자 하는 웹 사이트의 호스트 명을 알 필요가 있음
   - 해결 방법
     + 명시적인 프록시는 요청 메세지가 완전한 URI를 갖도록 문제 해결
     + 가상으로 호스팅 되는 웹 서버는 호스트와 포트에 대한 정보가 담겨있는 Host 헤더 요구


