-----
### 스트림과 멀티플렉싱
-----
1. 스트림은 HTTP/2.0 커넥션을 통해 클라이언트와 서버 사이에서 교환되는 프레임들의 독립된 양방향 시퀀스
2. 한 쌍의 HTTP 요청과 응답은 하나의 스트림을 통해 이루어짐
   - 클라이언트는 새 스트림을 만들어 그를 통해 HTTP 요청을 보내고, 요청을 받은 서버는 그 요청과 같은 스트림으로 응답을 보냄
   - 이후, 스트림은 닫히게 됨

3. HTTP/1.1에서는 한 TCP 커넥션을 통해 요청을 보냈을 떄, 그에 대한 응답이 도착하고 나서야 같은 TCP 커넥션으로 다시 요청을 보낼 수 있음
   - 따라서, 웹 브라우저들은 회전 지연을 줄이기 위해 여러 개의 TCP 커넥션을 만들어 동시에 여러 개 요청을 보내는 방법 사용
   - 그러나 TCP 커넥션을 무한정 만들 수 없으므로 한 페이지에 보내야 할 요청이 수십에서 수백개가 되는 오늘날에는 회전 지연이 늘어나는 것을 피하기 어려움

4. HTTP/2.0에서는 하나의 커넥션에 여러 개 스트림이 동시에 열릴 수 있음 (SETTING 프레임의 SETTING_MAX_CONCURRENT_STREAMS 매개변수 값을 조절해 동시에 열려 있을 수 있는 스트림 개수 제한 가능)
   - 따라서, 하나의 HTTP/2.0 커넥션을 통해 여러 개 요청이 동시에 보내질 수 있으므로 이 문제는 쉽게 해결 가능

5. 스트림은 우선순위도 가질 수 있음
   - 예를 들어, 사용자가 웹 브라우저로 어떤 웹 페이지를 보려고 할 때, 네트워크 대역폭이 충분하지 않아 프레임이 전송이 느리다면, 웹 브라우저는 보다 중요한 리소스(예) 이미지 파일보다는 HTML 페이지)를 요청하는 스트림에게 더 높은 우선순위를 부여할 수 있을 것
   - 그러나 이 우선순위에 따르는 것은 의무사항이 아니므로, 요청이 우선순위대로 처리된다는 보장이 없음
  
6. 모든 스트림은 31비트의 무부호 정수로 된 고유 식별자를 가짐
   - 스트림이 클라이언트에 의해 초기화되었다면, 이 식별자는 반드시 홀수여야 하며, 서버라면 짝수여야 함
   - 또한 새로 만들어지는 스트림의 식별자는 이전에 만들어졌거나 예약된 스트림의 식별자보다 커야 함
   - 이 규칙을 어기는 식별자를 받았다면, 에러 코드가 PROTOCOL_ERROR인 커넥션 에러로 응답해야 함

7. 서버와 클라이언트는 스트림을 상대방과 협상 없이 일방적으로 만들며, 이는 스트림을 만들 떄 협상을 위해 TCP 패킷을 주고받느라 시간을 낭비하지 않아도 됨을 의미
8. HTTP/2.0 커넥션에서 한 번 사용한 스트림 식별자는 다시 사용 불가
   - 커넥션을 오래 사용하다보면 스트림에 할당할 수 있는 식별자가 고갈되기도 하는데, 그런 경우 커넥션을 다시 맺으면 됨
   - 이처럼 동시에 여러 개 스트림을 사용하면 스트림이 블록될 우려가 있다는 주장이 존재하는데, HTTP/2.0은 WINDOW_UPDATE 프레임을 이용한 흐름 제어(Flow Control)를 통해, 스트림들이 서로 간섭해서 망가지는 것을 막아줌
   
