-----
### 단계 1 : 클라이언트 커넥션 수락
-----
1. 클라이언트가 이미 서버에 대해 열려있는 지속적 커넥션을 갖고 있다면, 클라이언트는 요청을 보내기 위해 그 커넥션을 사용할 수 있음
2. 그렇지 않다면, 클라이언트는 서버에 대한 새 커넥션을 열 필요가 없음
3. 새 커넥션 다루기
   - 클라이언트가 웹 서버에 TCP 커넥션을 요청하면, 웹 서버는 그 커넥션을 맺고 TCP 커넥션에서 IP 주소를 추출해 어떤 클라이언트가 잇는지 확인
   - 새 커넥션이 맺어지고 받아들이지면, 서버는 새 커넥션을 커넥션 목록에 추가하고 커넥션에서 오가는 데이터를 지켜보기 위한 준비를 함
   - 웹 서버는 어떤 커넥션이든 마음대로 거절하거나 즉시 닫을 수 있으며, 어떤 웹 서버들은 클라이언트의 IP 주소나 호스트 명이 인가되지 않았거나 악의적이라고 알려진 것일 경우 커넥션을 닫음 (다른 신원 식별 기법 또한 사용 가능)

4. 클라이언트 호스트 명 식별
   - 대부분 웹 서버는 역방향 DNS(Reverse DNS)를 사용해서 클라이언트의 IP 주소를 클라이언트의 호스트 명으로 변환하도록 설정
   - 웹 서버는 클라이언트 호스트 명을 구체적인 접근 제어와 로깅을 위해 사용 가능
   - 호스트 명 룩업(Hostname Lookup)은 꽤 시간이 많이 걸릴 수 있어, 웹 트랜잭션을 느려지게 할 수 있음 :  많은 대용량의 웹 서버는 따라서, 호스트 명 분석(Hostname Resolution)을 꺼두거나 특정 콘텐츠에 대해서만 켜놓음
   - 아파치에서는 HostnameLookups 설정 지시자로 호스트 명 룩업을 켤 수 있음
     + 예) 아파치 설정 지시자는 HTML과 CGI 리소스만을 위해 호스트명 분석을 켜놓음
<div align="center">
<img src="https://github.com/user-attachments/assets/0c625196-988c-44e2-87d0-a94860897a84">
</div>

5. ident를 통해 클라이언트 사용자 알아내기
   - 몇몇 웹 서버는 또한 IETF ident 프로토콜 지원
   - ident 프로토콜은 서버에게 어떤 사용자 이름이 HTTP 커넥션을 초기화했는지 찾아낼 수 있음
   - 이 정보는 특히 웹 서버 로깅에서 유용하므로, 널리 쓰이는 일반 로그 포맷(Common Log Format)의 두 번째 필드는 각 HTTP 요청의 ident 사용자 이름을 담고 있음
   - 만약, 클라이언트가 identd 프로토콜을 지원한다면, 클라이언트는 iden 결과를 위해 TCP 113번 포트를 Listen
<div align="center">
<img src="https://github.com/user-attachments/assets/b239fc55-cccf-49c9-897c-03aed7354ce9">
</div>

   - 5-4a : 클라이언트는 HTTP 커넥션을 열며, 서버는 그 후 자신의 커넥션을 클라이언트 ident 서버 포트(113)를 향해 열고, 새 커넥션(클라이언트와 서버 포트 번호에 지정되는)에 대응하는 사용자 이름을 묻는 간단한 요청을 보냄
   - ident는 조직 내부에서는 잘 사용할 수 있지만, 공공 인터넷에서는 다음과 같은 이유로 잘 동작하지 않음
     + 많은 클라이언트 PC는 identd 신원확인 프로토콜 데몬 소프트웨어를 실행하지 않음
     + ident 프로토콜은 HTTP 트랜잭션을 유의미하게 지연시킴
     + 방화벽이 ident 트래픽이 들어오는 것을 막는 경우가 많음
     + ident 프로토콜은 안전하지 않고 조작하기 쉬움
     + ident 프로토콜은 가상 IP 주소를 잘 지원하지 않음
     + 클라이언트 사용자 이름의 노출로 인한 프라이버시 침해 우려 존재

6. 아파치 웹 서버의 경우 IdentityCheck 지시어를 통해 ident 룩업을 사용할 수 있음
   - 만약 가용한 ident 정보가 없다면, 아파치는 ident 로그 필드를 하이픈(-)으로 채울 것
   - 보통 ident 정보가 없으므로 일반 로그 포맷 로그 파일의 두번째 필드는 하이픈으로 채워짐
