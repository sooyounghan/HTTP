-----
### 헤더 압축
-----
1. HTTP/1.1에서 헤더는 아무런 압축 없이 그대로 전송
   - 과거에는 웹 페이지 하나를 방문할 때 요청이 많지 않았으므로 헤더 크기가 큰 문제가 되지 않음
   - 지금은 웹 페이지 하나를 보기 위해 수십에서 많으면 수백 번의 요청을 보내므로, 헤더 크기가 회전 지연과 대역폭 양쪽 모두 실질적 영향을 미침

2. 이를 개선하기 위해 HTTP/2.0에서는 HTTP 메세지 헤더를 압축하여 전송
   - 헤더는 HPACK 명세에 정의된 헤더 방법으로 압축된 뒤, 헤더 블록 조각들로 쪼개져서 전송되며, 받는 쪽에서는 이 조각들을 이은 뒤 압축을 풀어 원래의 헤더 집합으로 복원
   - HTTP/2.0 프로토콜의 기반이 된 SPDY 프로토콜에서 헤더를 deflate 알고리즘으로 압축 : 이 알고리즘은 크기를 줄이는 데 효과적이지만, CRIME(HTTPS나 SPDY 프로토콜이 데이터 압축을 사용하는 경우 적용 가능한, HTTP 쿠키를 노리는 취약점 공격)에 취약해지는 보안 문제가 존재하여 HTTP/2.0에서는 HPACK 명세에 따라 헤더 압축

3. HPACK은 헤더를 압축하고 해제할 때, 압축 콘텍스트(Compression Context)를 사용
   - 따라서 오동작하지 않으려면 항상 올바른 압축 콘텍스트를 유지해야 함
   - 압축 콘텍스트는 수신한 헤더의 압축을 풀면 이에 영향을 받아 바뀌며, 송신 측은 수신 측이 헤더의 압축을 풀었으며, 그에 따라 압축 콘텍스트가 바뀌었다고 가정
   - 따라서 헤더를 받은 수신 측은 어떤 경우(심지어 그 헤더를 쓰지 않고 버리는 경우도) 반드시 압축 해제를 수행해야 함
   - 그럴 수 없다면 반드시 COMPRESSION_ERROR와 함께 커넥션을 끊어야함
