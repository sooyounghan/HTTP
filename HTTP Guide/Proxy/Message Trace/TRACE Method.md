-----
### TRACE 메서드
-----
1. 프록시 서버는 메세지가 전달될 때 메세지를 바꿀 수 있음
2. 헤더가 추가되거나 변경되거나 삭제될 수 있으며, 본문이 다른 형식으로 변환될 수 있음
3. 프록시가 점점 복잡해지고 더 많은 벤더가 프록시 제품을 배치하면서, 상호운용성 문제가 증가
4. 프록시 네트워크를 쉽게 진단하기 위해, HTTP 프록시 네트워크를 통해 홉에서 홉으로 전달될 때마다 메세지 내용이 어떻게 변하는지 관찰할 방법이 필요
5. HTTP/1.1의 TRACE 메서드는 요청 메세지를 프록시 연쇄를 따라가면서 어떤 프록시를 지나가고 어떻게 각 프록시가 요청 메세지를 수정하는지 관찰 / 추적할 수 있도록 해줌
6. TRACE는 프록시 흐름을 디버깅하는데 유용
7. TRACE 요청이 목적지 서버에 도착했을 때(마지막 수신자는 원 서버이거나 아니면 Max-Forwards 값이 0인 요청을 받은, 첫 번째 프록시 혹은 게이트웨이), 서버는 전체 요청 메세지를 HTTP 응답 메세지의 본문에 포함시켜 송신자에게 돌려보냄
<div align="center">
<img src="https://github.com/user-attachments/assets/981643b5-43f4-443e-a578-7784245d56b1">
</div>

   - TRACE 응답이 도착했을 때, 클라이언트는 서버가 받은 메세지와 그 메세지가 지나간 프록시들의 목록(Via 헤더 안에 존재)를 검사할 수 있음
   - TRACE 응답의 Content-Type은 message/http이며, 상태는 200 OK

8. Max-Forwards
   - 일반적으로 TRACE 메세지는 중간에 프록시들이 몇 개나 있든 신경쓰지 않고 목적지 서버로의 모든 경로를 여행
   - TRACE와 OPTIONS 요청의 프록시 홉(Hop) 개수를 제한하기 위해 Max-Forwards 헤더를 사용할 수 있는데, 이는 전달되는 메세지가 무한 루프에 빠지지 않는지 프록시 연쇄를 테스트하거나 연쇄 중간에 특정 프록시 서버들의 효과를 체크할 때 유용
   - Max-Forwards는 또한 OPTIONS 메세지의 전달 횟수도 제한
   - Max-Forwards 요청 헤더 필드는 이 요청 메세지가 몇 번 더 다음 홉으로 전달될 수 있는지, 말해주는 정수를 하나 담고 있음
<div align="center">
<img src="https://github.com/user-attachments/assets/363134a5-b1c7-47d3-84a4-7056f10bc1cf">
</div>

   - 만약, Max-Forwards 값이 0이라면(Max-Forwards: 0), 수신자는 자신이 원 서버가 아니라 할지라도 TRACE 메세지를 더 이상 전달하지 말고 반드시 클라이언트에게 돌려줘야 함
   - 받은 Max-Forwards 값이 0보다 크다면, 전달될 메세지의 Max-Forwards 필드는 반드시 1 감소된 값으로 갱신되어야 함
     + 모든 프록시와 게이트웨이는 Max-Forwards를 지원해야 하며, 프록시 연쇄의 어떤 특정 홉에서의 요청을 보기 위해 Max-Forwards를 사용할 수 있음


