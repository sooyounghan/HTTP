-----
### 쿠키와 캐싱
-----
1. 쿠키 트랜잭션과 관련된 문서를 캐싱하는 것은 주의해야 함
   - 이전 사용자의 쿠기가 다른 사용자에게 할당되버리거나, 누군가 개인 정보가 다른 이에게 노출되는 최악 상황 발생 가능
  
2. 캐시를 다루는 기본 원칙
   - 캐시되지 말아야 할 문서가 있다면 표시
     + 문서의 캐시 여부는 문서 소유자가 가장 잘 알고 있으므로, 문서가 Set-Cookie 헤더를 제외하고 캐시를 해도 될 경우라면, 그 문서에 명시적으로 Cache-Control: no-cache="Set-Cookie"를 기술해서 명확히 표시
     + 또한, 캐시를 해도 되는 문서에 Cache-Control: public를 사용하면 웹 대역폭을 더 절약시켜줌

   - Set-Cookie 헤더를 캐시하는 것 유의
     + 응답이 Set-Cookie 헤더를 가지고 있으면, 본문은 캐시할 수 있지만, Set-Cookie 헤더를 캐시하는 것은 주의를 기울여야 함
     + 같은 Set-Cookie 헤더를 여러 사용자에게 보내게 되면, 사용자 추적에 실패할 것이기 때문임
     + 어떤 캐시는 응답을 저장하기 전 Set-Cookie 헤더를 제거하므로, 그 캐시 데이터를 받는 클라이언트는 Set-Cookie 헤더 정보가 없는 데이터를 받게 되어 문제 발생
     + 캐시가 모든 요청마다 원 서버와 재검사시켜 클라이언트로 가는 응답에 Set-Cookie 헤더 값을 기술해서 이 문제 개선 가능
     + 원 서버는 다음과 같은 헤더를 캐시된 문서에 추가함으로써 재검사를 일어나게 할 수 있음 : ```Cache-Control: must-revalidate, max-age=0```
     + 더 보수적인 캐시는 콘텐츠가 캐시해도 되는 데이터라고 하더라도 Set-Cookie 헤더를 가지고 있는 응답을 캐시하지 않을 수 있음
     + 어떤 캐시는 Set-Cookie가 있는 이미지는 캐시를 하지만, 텍스트는 캐시하지 않음

   - Cookie 헤더를 가지고 있는 요청에 주의
     + 요청이 Cookie 헤더와 함께 오면, 결과 콘텐츠가 개인 정보를 담고 있을 수 있음
     + 개인정보는 캐시되지 않도록 표시되어 있어야 하지만, 그렇지 않는 서버도 존재
     + 보수적인 캐시는 Cookie 헤더가 포함된 요청에 응답으로 오는 문서는 캐시하지 않을 것
     + 효율적인 방식은 캐시 이미지에 파기 시간인 0인 Cookie 헤더를 설정해 매번 재검사 강제
